---
apiVersion: v1
kind: Service
metadata:
  name: master-service
  namespace: console
  labels:
    k8s-app: master-web-service
    kubernetes.io/cluster-service: "true"
    kubernetes.io/name: "ConsoleMasterService"
spec:
  selector:
    k8s-app: console-master-webserver
  ports:
  - name: mster
    port: 9003
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: deploy-service
  namespace: console
  labels:
    k8s-app: deploy-web-service
    kubernetes.io/cluster-service: "true"
    kubernetes.io/name: "ConsoleDeployService"
spec:
  selector:
    k8s-app: console-deploy-webserver
  ports:
  - name: deploy
    port: 9004
    protocol: TCP
---
apiVersion: v1
kind: Service
metadata:
  name: statics-webserver
  namespace: console
  labels:
    k8s-app: statics
    kubernetes.io/cluster-service: "true"
    kubernetes.io/name: "ConsoleStaticsService"
spec:
  selector:
    k8s-app: statics-webserver
  ports:
  - name: deploy
    port: 9000
    targetPort: 80
    protocol: TCP
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: console-ingress
  namespace: console
  annotations:
    ingress.kubernetes.io/proxy-body-size: 8m
spec:
  rules:
  - host: dev.clickyab.com
    http:
      paths:
      - path: /
        backend:
          serviceName: master-service
          servicePort: 9003
  - host: console.clickyab.com
    http:
      paths:
      - path: /
        backend:
          serviceName: deploy-service
          servicePort: 9004
  - host: static.clickyab.com
    http:
      paths:
      - path: /
        backend:
          serviceName: statics-webserver
          servicePort: 9000